# vim: ft=gitconfig
# NOTE: user.email is not configured to force configuration of each repoisitory
[user]
	name = {{ .name | quote }}
	signingKey = {{ .gpgkey | quote }}
[init]
	defaultBranch = main
[pull]
	ff = "only"
[merge]
	# https://blog.nilbus.com/take-the-pain-out-of-git-conflict-resolution-use-diff3/
	# https://stackoverflow.com/q/27417656
	conflictstyle = diff3
[commit]
{{- if (and (lookPath "gpg") (eq (output "sh" "-c" (cat "gpg --list-secret-keys " (quote .gpgkey) " >/dev/null 2>&1 || echo false")) "")) }}
	gpgsign = true
{{- end }}
