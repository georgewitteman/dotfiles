#!/usr/bin/env zsh

local N=5000
local i

start-timer '[[ ]]'
for i in {1..$N}; do
  if [[ $i -eq 10 ]]; then; fi
done
end-timer

start-timer '[ ]'
for i in {1..$N}; do
  if [ $i -eq 10 ]; then; fi
done
end-timer

start-timer '(( ))'
for i in {1..$N}; do
  if (( $i == 10 )); then; fi
done
end-timer

start-timer '[ ]'
for i in {1..$N}; do
  if [ $i -eq 10 ]; then; fi
done
end-timer

start-timer '[[ ]]'
for i in {1..$N}; do
  if [[ $i -eq 10 ]]; then; fi
done
end-timer

start-timer 'VAR=1'
repeat $N { _TEST_VAR=1 }
end-timer

start-timer 'export VAR=1'
repeat $N { export _TEST_VAR=1 }
end-timer

start-timer 'typeset -gx VAR=1'
repeat $N { typeset -gx _TEST_VAR=1 }
end-timer

start-timer 'VAR=1 once'
_TEST_VAR=1
end-timer

start-timer 'export VAR=1 once'
export _TEST_VAR=1
end-timer

# start-timer 'source'
# repeat $N { source "$HOME/.zshenv" }
# end-timer

# start-timer '.'
# repeat $N { . "$HOME/.zshenv" }
# end-timer

# start-timer 'source'
# repeat $N { source "$HOME/.zshenv" }
# end-timer

start-timer 'path=("$HOME/.local/bin" $path)'
repeat $N path=("$HOME/.local/bin" $path)
end-timer $N

start-timer 'path+=("$HOME/.local/bin")'
repeat $N path+=("$HOME/.local/bin")
end-timer $N

start-timer 'PATH="$HOME/.local/bin:$PATH"'
repeat $N PATH="$HOME/.local/bin:$PATH"
end-timer $N
