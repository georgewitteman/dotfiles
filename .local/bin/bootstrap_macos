#!/usr/bin/env zsh

set -e

# install homebrew if it's missing
if ! command -v brew >/dev/null 2>&1; then
  echo "Installing homebrew"
  echo_eval '/usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"'
fi

echo_run brew update

echo_run brew upgrade

echo_run brew install --HEAD universal-ctags/universal-ctags/universal-ctags
echo_run brew install bat \
  curl \
  diff-so-fancy \
  exa \
  fd \
  fzf \
  git \
  gnupg \
  httpie \
  hyperfine \
  jq \
  nvim \
  pgcli \
  pinentry-mac \
  ripgrep \
  rsync \
  tealdeer \
  tmux \
  trash \
  tree \
  vim \
  wget \
  yadm \
  zsh \

echo_run brew cleanup
